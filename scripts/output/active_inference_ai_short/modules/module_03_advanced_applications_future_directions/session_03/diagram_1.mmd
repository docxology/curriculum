graph TD
    A[Multi-Agent System Initialization] --> B{Free Energy Calculation};
    B -- Primary --> C[Agent Exploration];
    C -- Parallel --> D[Local Optimization];
    D -- Secondary --> E[Global Coordination];
    E -- Feedback --> B;
    B -- Critical --> F{Convergence Check};
    F -- Yes --> G[Minimization Achieved];
    F -- No --> C;
    C -- Optional --> H[Stochastic Exploration];
    H -- Conditional --> E;
    E --> I[Environment Feedback];
    I -- Secondary --> E;
    B -- Critical --> J[Constraint Handling];
    J --> B;
    A --> K{Resource Allocation};
    K --> B;
    G --> L[System Stabilization];
    L --> M[Termination];
    B --> N{Communication Protocols};
    N --> B;
    A -- Primary --> O[Agent Model];
    O --> A;
    M --> P[Reward Function];
    P --> B;
    L --> Q[Adaptive Learning];
    Q --> B;
    B -- Critical --> R[Energy Landscape Analysis];
    R --> B;
    B --> S[Iteration Control];
    S --> B;
    A --> T[Initial Parameter Setup];
    T --> A;
    G --> U[Final State Assessment];
    U --> M;